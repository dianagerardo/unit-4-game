$(document).ready(function () {
    crystalGame.resetGame();
    
    
    ///////////////////////////////////////////////////

    //  FUNCTIONS  //

    ///////////////////////////////////////////////////

    //when start button is clicked 
    $("#restart").click(function () {
        crystalGame.restartGame();

    })

    // score = score + valueofcrystal
    //Display crystals on bottom of page as buttons
    //When player clicks on crystal add points to the total score

    $("#purple-crystal").click(function () {
        // console.log(crystalGame.purpleCrystalWorth);
        crystalGame.scoreCounter += crystalGame.purpleCrystalWorth;
        $("#score-text").text(crystalGame.scoreCounter);
        //This score will be hidden until the player clicks a crystal

        //Once a crystal is clicked then the score counter should be updated

    });

    clearCrystalText = $("#clear-crystal").click(function () {
        // alert("Your crystal is worth " + crystalGame.clearCrystalWorth);
        crystalGame.scoreCounter += crystalGame.clearCrystalWorth;
        $("#score-text").text(crystalGame.scoreCounter);
    });

    pinkCrystalText = $("#pink-crystal").click(function () {
        // alert("Your crystal is worth " + crystalGame.pinkCrystalWorth);

        crystalGame.scoreCounter += crystalGame.pinkCrystalWorth;
        $("#score-text").text(crystalGame.scoreCounter);
    });

    blueCrystalText = $("#blue-crystal").click(function () {
        // alert("Your crystal is worth " + crystalGame.blueCrystalWorth);

        crystalGame.scoreCounter += crystalGame.blueCrystalWorth;
        $("#score-text").text(crystalGame.scoreCounter);
    });

    $(".crystal").click(function () {
        compareScores();
        crystalGame.crystalAudio.play();
        
    });
});


var crystalGame = {

    /////////////////////////////////////////////////

    //  VARIABLES //

    //////////////////////////////////////////////////
    purpleCrystalWorth: Math.floor((Math.random() * 12) + 1),
    clearCrystalWorth: Math.floor((Math.random() * 12) + 1),
    pinkCrystalWorth: Math.floor((Math.random() * 12) + 1),
    blueCrystalWorth: Math.floor((Math.random() * 12) + 1),
    purpleCrystalText: Math.floor((Math.random() * 12) + 1),
    clearCrystalText: "",
    pinkCrystalText: "",
    blueCrystalText: "",
    numberText: "",
    scoreCounterText: "",
    scoreCounter: 0,
    mySound: "",
    myMusic: "",
    // wins[1]
    // losses[0]
    wins: 0,
    loss: 0,
    crystalRandom: "",
    computerGuess: "",
    crystalAudio: new Audio("assets/javascript/Click.mp3"),
    winAudio: new Audio("assets/javascript/win-sounds.mp3"),
    lossAudio: new Audio("assets/javascript/Sad_Trombone.mp3"),
    

    //////////////////////////////////////////////////

    //  METHODS  //

    //////////////////////////////////////////////////

    //When the game resets 
    resetGame: function () {
        //the array that has the wins or losses
        //the app should keep a track of the wins and losses without resetting or changing when the page is refreshed
        //user's score should reset to zero
        this.scoreCounter = 0;
        this.scoreCounterText = $("#score-text").text(this.scoreCounter);
        //Random number generated by computer
        //Display a random number between 19-120 at the start of the game, maybe after a start button is clicked
        this.computerGuess = Math.floor((Math.random() * 120) + 19);
        this.numberText = $("#number-text").text(this.computerGuess);

        //The crystals should have new hidden values
    },

    restartGame: function () {
        this.scoreCounter = 0;
        this.scoreCounterText = $("#score-text").text(this.scoreCounter);
        this.computerGuess = Math.floor((Math.random() * 120) + 19);
        this.numberText = $("#number-text").text(this.computerGuess);
        this.wins= 0;
        this.loss=0;

    }


},

winFunction = function win() {
    crystalGame.wins++;
    $("#wins-text").text(crystalGame.wins);
    alert("you have won!");

}

lossFunction = function loss() {
    crystalGame.loss++;
    $("#loss-text").text(crystalGame.loss);
    alert("you have lost!");
}


//Does the player's score match the random number?
//if so the player wins and the game restarts
function compareScores() {
    if (crystalGame.scoreCounter === crystalGame.computerGuess) {
        // console.log(crystalGame.computerGuess);
        // console.log(crystalGame.scoreCounter);
        winFunction();
        crystalGame.winAudio.play();
       
        crystalGame.resetGame();
    }
    //else the player loses if their score goes above the random number and the game resets
    else if (crystalGame.scoreCounter > crystalGame.computerGuess) {
        lossFunction();
        crystalGame.lossAudio.play();
        crystalGame.resetGame();
    }
}
